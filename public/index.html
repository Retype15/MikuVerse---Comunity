<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MikuVerse - Bienvenido 🌸</title>
    <link rel="icon" href="/images/logo.png" type="image/png">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <link rel="stylesheet" href="/css/auth.css">
</head>
<body>
    <div class="auth-container">
        <img src="/images/logo.png" alt="Logo" class="logo">
        <div id="error-message" class="error-message"></div>

        <div id="login-view" class="auth-form active">
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <input type="text" id="login-identifier" name="identifier" placeholder="Usuario o Correo electrónico" required>
                <input type="password" id="login-password" name="password" placeholder="Contraseña" required>
                <div id="turnstile-login-widget"></div>
                <button type="submit">Iniciar sesión</button>
            </form>
            <div class="divider">O</div>
            <a href="/api/auth/google"><button class="btn-google">Continuar con Google</button></a>
            <div class="extra-links">
                <a id="show-register">¿No tienes cuenta? Regístrate</a>
            </div>
        </div>

        <div id="register-view" class="auth-form">
            <h2>Crear Cuenta</h2>
            <form id="register-form">
                <input type="text" id="register-username" name="username" placeholder="Nombre de usuario" required>
                <input type="email" id="register-email" name="email" placeholder="Correo electrónico" required>
                <input type="password" id="register-password" name="password" placeholder="Contraseña" required>
                <div id="turnstile-register-widget"></div>
                <button type="submit">Crear cuenta</button>
            </form>
            <div class="divider">O</div>
            <a href="/api/auth/google"><button class="btn-google">Registrarse con Google</button></a>
            <div class="extra-links">
                <a id="show-login">¿Ya tienes cuenta? Inicia sesión</a>
            </div>
        </div>
        
        <!-- este es para el registro por google -->
        <div id="google-complete-view" class="auth-form">
            <h2>Completa tu Perfil</h2>
            <p>Elige un nombre de usuario y una contraseña para tu cuenta.</p>
            <form id="google-complete-form">
                <input type="hidden" name="tempToken" id="google-temp-token">
                <input type="email" id="google-email" name="email" placeholder="Correo electrónico" readonly>
                <input type="text" id="google-username" name="username" placeholder="Elige un nombre de usuario" required>
                <input type="password" id="google-password" name="password" placeholder="Crea una contraseña" required>
                <div id="turnstile-google-widget"></div>
                <button type="submit">Finalizar Registro</button>
            </form>
        </div>

    </div>
    <script src="auth.js"></script>
</body>
</html>